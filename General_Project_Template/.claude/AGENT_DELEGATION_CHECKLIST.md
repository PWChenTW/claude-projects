# Agent 委派檢查清單

## 🚨 主助手自我檢查：我是否正在違反委派規則？

### 危險信號（如果你正在做這些事，立即停止！）
- ❌ 我正在寫程式碼
- ❌ 我正在設計資料結構
- ❌ 我正在規劃業務流程
- ❌ 我正在決定技術方案
- ❌ 我認為「這很簡單，我來做就好」

### 正確信號（你應該做的事）
- ✅ 我正在分析任務並準備委派
- ✅ 我正在整合不同 Agent 的分析結果
- ✅ 我正在協調多個 Agent 的工作
- ✅ 我正在追蹤進度和品質
- ✅ 我正在確保遵循 CLAUDE.md 原則

## 📋 快速委派決策樹

### Step 1: 任務類型識別
```
這個任務涉及什麼？
├── 架構或設計變更 → architect
├── 業務邏輯或需求 → business-analyst
├── 算法或數據處理 → data-specialist
├── API 或外部整合 → integration-specialist
├── 測試策略或品質 → test-engineer
└── 重大技術決策 → tech-lead
```

### Step 2: 複雜度評估
```
任務有多複雜？
├── 超過 100 行程式碼 → 需要多階段委派
├── 新建服務或模組 → 需要多階段委派
├── 涉及多個系統 → 需要多階段委派
└── 簡單配置修改 → 仍需委派給適當 Agent
```

### Step 3: 多階段委派流程
```
標準實施流程：
1. architect → 架構評估
2. business-analyst → 需求分析（如適用）
3. data-specialist → 算法設計（如適用）
4. test-engineer → 測試策略
5. 適當的 Agent → 實際實作
```

## 🔍 具體場景範例

### 場景 1：實作新的 API 端點
```
委派順序：
1. architect → 評估對現有架構的影響
2. business-analyst → 分析 API 需求和使用場景
3. integration-specialist → 設計 API 規範
4. test-engineer → 設計測試策略
5. integration-specialist → 實作 API
```

### 場景 2：添加錯誤處理機制
```
委派順序：
1. architect → 錯誤處理架構設計
2. data-specialist → 設計重試算法和斷路器
3. business-analyst → 定義用戶看到的錯誤訊息
4. test-engineer → 設計錯誤場景測試
5. data-specialist → 實作錯誤處理邏輯
```

### 場景 3：實作監控儀表板
```
委派順序：
1. architect → 監控架構設計
2. business-analyst → 分析監控需求和 UI
3. data-specialist → 設計監控指標和算法
4. test-engineer → 設計監控測試
5. 多個 Agent 協作實作
```

## ⚠️ 常見錯誤模式

### 錯誤 1：單次委派後就開始實作
```
❌ 錯誤做法：
architect 分析完 → 主助手開始寫程式碼

✅ 正確做法：
architect 分析完 → business-analyst 分析 → test-engineer 設計測試 → 委派實作
```

### 錯誤 2：低估任務複雜度
```
❌ 錯誤想法：
「這只是添加一個簡單的功能」

✅ 正確思考：
「即使看似簡單，也要確認是否涉及：
- 新的業務邏輯？
- 錯誤處理？
- 用戶體驗？
- 系統整合？」
```

### 錯誤 3：忽略測試設計
```
❌ 錯誤做法：
實作完成後才考慮測試

✅ 正確做法：
在實作前就讓 test-engineer 設計測試策略
```

## 📌 記住

> 「主助手的角色是協調者，不是實作者」

> 「懷疑時，委派出去」

> 「多問一個 Agent 的意見，總比遺漏重要考量好」

## 🔄 自我審查問題

在開始任何工作前，問自己：
1. 我是否已經識別所有相關的 Agent？
2. 我是否規劃了完整的委派流程？
3. 我是否正確評估了任務複雜度？
4. 我是否遵循了 CLAUDE.md 的原則？

如果有任何答案是「否」或「不確定」→ 重新評估並規劃委派！