# Vibe Coding 檢查清單

## 🎯 任務適合性評估表

### A. 任務類型評估

#### 適合 AI 自主開發 (Vibe Coding) ✅
- [ ] UI 組件開發
- [ ] 工具函數編寫
- [ ] 測試用例創建
- [ ] 文檔撰寫
- [ ] 數據格式轉換
- [ ] 簡單 bug 修復
- [ ] 樣式調整
- [ ] 配置優化（非生產）

#### 需要人工參與 ⚠️
- [ ] API 設計
- [ ] 數據庫架構
- [ ] 認證系統
- [ ] 支付集成
- [ ] 安全配置
- [ ] 性能優化
- [ ] 架構重構
- [ ] 生產部署

### B. 複雜度評估

| 因素 | 低 (1分) | 中 (2分) | 高 (3分) |
|------|----------|----------|----------|
| 代碼行數 | <100 | 100-500 | >500 |
| 依賴數量 | <3 | 3-7 | >7 |
| 影響範圍 | 單一文件 | 單一模組 | 跨模組 |
| 業務邏輯 | 無 | 簡單 | 複雜 |
| 安全風險 | 無 | 低 | 中高 |

**總分解釋**：
- 5-7 分：✅ 適合 Vibe Coding
- 8-11 分：⚠️ 需要審核
- 12-15 分：🔴 需要人工主導

## 🛡️ 風險評估矩陣

### 風險維度

#### 1. 技術風險
```yaml
低風險:
  - 靜態內容修改
  - 樣式調整
  - 文檔更新
  
中風險:
  - 新功能開發
  - API 修改
  - 數據處理邏輯
  
高風險:
  - 架構變更
  - 安全相關
  - 性能關鍵路徑
```

#### 2. 業務風險
```yaml
低風險:
  - 內部工具
  - 開發環境
  - 測試功能
  
中風險:
  - 用戶功能
  - 數據展示
  - 報表生成
  
高風險:
  - 支付流程
  - 用戶數據
  - 合規相關
```

#### 3. 可逆性
```yaml
易逆轉:
  - UI 修改
  - 配置調整
  - 功能開關
  
可逆轉:
  - 業務邏輯
  - API 變更
  - 數據格式
  
難逆轉:
  - 數據庫遷移
  - 架構重構
  - 外部集成
```

### 風險矩陣決策

| | 低業務風險 | 中業務風險 | 高業務風險 |
|---|---|---|---|
| **低技術風險** | 🟢 自主開發 | 🟢 自主開發 | 🟡 需審核 |
| **中技術風險** | 🟢 自主開發 | 🟡 需審核 | 🔴 人工主導 |
| **高技術風險** | 🟡 需審核 | 🔴 人工主導 | 🔴 禁止 |

## ✅ 驗證策略模板

### 1. 快速驗證 (葉節點)
```bash
# 5 分鐘驗證流程
npm run lint           # 代碼風格
npm run type-check     # 類型檢查
npm run test:unit      # 單元測試
```

### 2. 標準驗證 (邊界層)
```bash
# 15 分鐘驗證流程
npm run lint
npm run type-check
npm run test:unit
npm run test:integration
npm run test:e2e -- --smoke
```

### 3. 完整驗證 (核心架構)
```bash
# 30+ 分鐘驗證流程
npm run verify-all     # 包含所有測試
npm run security-scan  # 安全掃描
npm run performance    # 性能測試
npm run coverage       # 覆蓋率報告
```

## 📋 執行前檢查清單

### 開始任務前
- [ ] 確認任務所在系統層級
- [ ] 評估任務複雜度分數
- [ ] 檢查風險矩陣位置
- [ ] 選擇適當的驗證策略
- [ ] 確認是否需要研究員協助

### 開發過程中
- [ ] 遵循現有代碼風格
- [ ] 保持變更最小化
- [ ] 編寫必要的測試
- [ ] 更新相關文檔
- [ ] 定期運行驗證

### 完成任務後
- [ ] 運行完整驗證套件
- [ ] 檢查測試覆蓋率
- [ ] 審查安全影響
- [ ] 準備變更說明
- [ ] 請求必要的審核

## 🚦 快速決策指南

### 綠燈 🟢 - 直接執行
```javascript
// 示例：添加工具函數
function formatDate(date) {
  return new Intl.DateTimeFormat('en-US').format(date);
}
```

### 黃燈 🟡 - 先評估
```javascript
// 示例：修改 API 端點
app.post('/api/users', validateInput, async (req, res) => {
  // 需要考慮向後兼容性
});
```

### 紅燈 🔴 - 必須委派
```javascript
// 示例：修改認證邏輯
function authenticate(token) {
  // 涉及安全，必須人工審核
}
```

## 📊 度量指標

### 成功指標
- **自主開發成功率**: > 95%
- **返工率**: < 5%
- **審核通過率**: > 90%
- **平均開發時間**: 減少 50%

### 監控指標
- 任務類型分布
- 風險等級分布
- 驗證失敗原因
- 審核反饋統計

## 🔄 持續改進

### 每週回顧
1. 統計本週 Vibe Coding 任務
2. 分析成功和失敗案例
3. 更新風險評估標準
4. 調整自動化邊界

### 月度優化
1. 分析趨勢數據
2. 優化決策矩陣
3. 更新檢查清單
4. 培訓和知識分享

## 📚 參考資源

- [系統層級架構](../architecture/system-layers.md)
- [驗證測試模板](../templates/verification-test-template.md)
- [Vibe Coding 指南](../guides/vibe-coding-guidelines.md)
- [風險管理策略](../risk-management/)

---

*版本: 1.0.0*
*最後更新: 2025-01-19*
*狀態: 生效中*